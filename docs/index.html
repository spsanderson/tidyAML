<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="The goal of this package will be to provide a simple interface for automatic machine learning that fits the tidymodels framework. The intention is to work for regression and classification problems with a simple verb framework.">
<title>Automatic Machine Learning with tidymodels • tidyAML</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Automatic Machine Learning with tidymodels">
<meta property="og:description" content="The goal of this package will be to provide a simple interface for automatic machine learning that fits the tidymodels framework. The intention is to work for regression and classification problems with a simple verb framework.">
<meta property="og:image" content="https://www.spsanderson.com/tidyaml/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">tidyAML</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.5.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="articles/getting-started.html">Getting Started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Function Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/spsanderson/tidyAML/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="tidyaml-">tidyAML <a class="anchor" aria-label="anchor" href="#tidyaml-"></a>
</h1>
</div>
<!-- badges: start -->

<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Welcome to <strong><a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a></strong> which is a new R package that makes it easy to use the <code>tidymodels</code> ecosystem to perform automated machine learning (AutoML). This package provides a simple and intuitive interface that allows users to quickly generate machine learning models without worrying about the underlying details. It also includes a safety mechanism that ensures that the package will fail gracefully if any required extension packages are not installed on the user’s machine. With <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a>, users can easily build high-quality machine learning models in just a few lines of code. Whether you are a beginner or an experienced machine learning practitioner, <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a> has something to offer.</p>
<p>Some ideas are that we should be able to generate regression models on the fly without having to actually go through the process of building the specification, especially if it is a non-tuning model, meaning we are not planing on tuning hyper-parameters like <code>penalty</code> and <code>cost</code>.</p>
<p>The idea is not to re-write the excellent work the <code>tidymodels</code> team has done (because it’s not possible) but rather to try and make an enhanced easy to use set of functions that do what they say and can generate many models and predictions at once.</p>
<p>This is similar to the great <code>h2o</code> package, but, <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a> does not require java to be setup properly like <code>h2o</code> because <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a> is built on <code>tidymodels</code>.</p>
</div>
<div class="section level2">
<h2 id="thanks">Thanks<a class="anchor" aria-label="anchor" href="#thanks"></a>
</h2>
<p>Thank you <a href="https://fosstodon.org/@grrrck/109479826278916014" class="external-link">Garrick Aden-Buie</a> for the easy name change suggestion.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a> like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("tidyAML")</span></span></code></pre></div>
<p>Or the development version from GitHub</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="co">#devtools::install_github("spsanderson/tidyAML")</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>Part of the reason to use <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a> is so that you can generate many models of your data set. One way of modeling a data set is using regression for some numeric output. There is a convienent function in <strong>tidyAML</strong> that will generate a set of non-tuning models for <em>fast regression</em>. Let’s take a look below.</p>
<p>First let’s load the library</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: parsnip</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Welcome to tidyAML ===========================================================================</span></span>
<span><span class="co">#&gt; If you find this package useful, please leave a star: </span></span>
<span><span class="co">#&gt;    https://github.com/spsanderson/tidyAML'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; If you encounter a bug or want to request an enhancement please file an issue at:</span></span>
<span><span class="co">#&gt;    https://github.com/spsanderson/tidyAML/issues</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; It is suggested that you run tidymodels::tidymodel_prefer() to set the defaults for your session.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Thank you for using tidyAML!</span></span></code></pre></div>
<p>Now lets see the function in action.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/fast_regression_parsnip_spec_tbl.html">fast_regression_parsnip_spec_tbl</a></span><span class="op">(</span>.parsnip_fns <span class="op">=</span> <span class="st">"linear_reg"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 11 × 5</span></span>
<span><span class="co">#&gt;    .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec</span></span>
<span><span class="co">#&gt;        &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;        &lt;list&gt;    </span></span>
<span><span class="co">#&gt;  1         1 lm              regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  2         2 brulee          regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  3         3 gee             regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  4         4 glm             regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  5         5 glmer           regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  6         6 glmnet          regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  7         7 gls             regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  8         8 lme             regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt;  9         9 lmer            regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt; 10        10 stan            regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt; 11        11 stan_glmer      regression    linear_reg   &lt;spec[+]&gt;</span></span>
<span><span class="fu"><a href="reference/fast_regression_parsnip_spec_tbl.html">fast_regression_parsnip_spec_tbl</a></span><span class="op">(</span>.parsnip_eng <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lm"</span>,<span class="st">"glm"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 5</span></span>
<span><span class="co">#&gt;   .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec</span></span>
<span><span class="co">#&gt;       &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;        &lt;list&gt;    </span></span>
<span><span class="co">#&gt; 1         1 lm              regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt; 2         2 glm             regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt; 3         3 glm             regression    poisson_reg  &lt;spec[+]&gt;</span></span>
<span><span class="fu"><a href="reference/fast_regression_parsnip_spec_tbl.html">fast_regression_parsnip_spec_tbl</a></span><span class="op">(</span>.parsnip_eng <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lm"</span>,<span class="st">"glm"</span>,<span class="st">"gee"</span><span class="op">)</span>, </span>
<span>                                 .parsnip_fns <span class="op">=</span> <span class="st">"linear_reg"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 5</span></span>
<span><span class="co">#&gt;   .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec</span></span>
<span><span class="co">#&gt;       &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;        &lt;list&gt;    </span></span>
<span><span class="co">#&gt; 1         1 lm              regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt; 2         2 gee             regression    linear_reg   &lt;spec[+]&gt; </span></span>
<span><span class="co">#&gt; 3         3 glm             regression    linear_reg   &lt;spec[+]&gt;</span></span></code></pre></div>
<p>As shown we can easily select the models we want either by choosing the supported <code>parsnip</code> function like <code><a href="https://parsnip.tidymodels.org/reference/linear_reg.html" class="external-link">linear_reg()</a></code> or by choose the desired <code>engine</code>, you can also use them both in conjunction with each other!</p>
<p>This function also does add a class to the output. Let’s see it.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="fu"><a href="reference/fast_regression_parsnip_spec_tbl.html">fast_regression_parsnip_spec_tbl</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "tidyaml_mod_spec_tbl" "fst_reg_spec_tbl"     "tidyaml_base_tbl"    </span></span>
<span><span class="co">#&gt; [4] "tbl_df"               "tbl"                  "data.frame"</span></span></code></pre></div>
<p>We see that there are two added classes, first <code>fst_reg_spec_tbl</code> because this creates a set of non-tuning regression models and then <code>tidyaml_mod_spec_tbl</code> because this is a model specification tibble built with <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a></p>
<p>Now, what if you want to create a non-tuning model spec without using the <code><a href="reference/fast_regression_parsnip_spec_tbl.html">fast_regression_parsnip_spec_tbl()</a></code> function. Well, you can. The function is called <code><a href="reference/create_model_spec.html">create_model_spec()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/create_model_spec.html">create_model_spec</a></span><span class="op">(</span></span>
<span> .parsnip_eng <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"lm"</span>,<span class="st">"glm"</span>,<span class="st">"glmnet"</span>,<span class="st">"cubist"</span><span class="op">)</span>,</span>
<span> .parsnip_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"linear_reg"</span>,</span>
<span>      <span class="st">"linear_reg"</span>,</span>
<span>      <span class="st">"linear_reg"</span>,</span>
<span>      <span class="st">"cubist_rules"</span></span>
<span>     <span class="op">)</span></span>
<span> <span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 4</span></span>
<span><span class="co">#&gt;   .parsnip_engine .parsnip_mode .parsnip_fns .model_spec</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;        &lt;list&gt;     </span></span>
<span><span class="co">#&gt; 1 lm              regression    linear_reg   &lt;spec[+]&gt;  </span></span>
<span><span class="co">#&gt; 2 glm             regression    linear_reg   &lt;spec[+]&gt;  </span></span>
<span><span class="co">#&gt; 3 glmnet          regression    linear_reg   &lt;spec[+]&gt;  </span></span>
<span><span class="co">#&gt; 4 cubist          regression    cubist_rules &lt;spec[+]&gt;</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_model_spec.html">create_model_spec</a></span><span class="op">(</span></span>
<span> .parsnip_eng <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"lm"</span>,<span class="st">"glm"</span>,<span class="st">"glmnet"</span>,<span class="st">"cubist"</span><span class="op">)</span>,</span>
<span> .parsnip_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"linear_reg"</span>,</span>
<span>      <span class="st">"linear_reg"</span>,</span>
<span>      <span class="st">"linear_reg"</span>,</span>
<span>      <span class="st">"cubist_rules"</span></span>
<span>     <span class="op">)</span>,</span>
<span> .return_tibble <span class="op">=</span> <span class="cn">FALSE</span></span>
<span> <span class="op">)</span></span>
<span><span class="co">#&gt; $.parsnip_engine</span></span>
<span><span class="co">#&gt; $.parsnip_engine[[1]]</span></span>
<span><span class="co">#&gt; [1] "lm"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_engine[[2]]</span></span>
<span><span class="co">#&gt; [1] "glm"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_engine[[3]]</span></span>
<span><span class="co">#&gt; [1] "glmnet"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_engine[[4]]</span></span>
<span><span class="co">#&gt; [1] "cubist"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_mode</span></span>
<span><span class="co">#&gt; $.parsnip_mode[[1]]</span></span>
<span><span class="co">#&gt; [1] "regression"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_fns</span></span>
<span><span class="co">#&gt; $.parsnip_fns[[1]]</span></span>
<span><span class="co">#&gt; [1] "linear_reg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_fns[[2]]</span></span>
<span><span class="co">#&gt; [1] "linear_reg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_fns[[3]]</span></span>
<span><span class="co">#&gt; [1] "linear_reg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.parsnip_fns[[4]]</span></span>
<span><span class="co">#&gt; [1] "cubist_rules"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.model_spec</span></span>
<span><span class="co">#&gt; $.model_spec[[1]]</span></span>
<span><span class="co">#&gt; Linear Regression Model Specification (regression)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: lm </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.model_spec[[2]]</span></span>
<span><span class="co">#&gt; Linear Regression Model Specification (regression)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glm </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.model_spec[[3]]</span></span>
<span><span class="co">#&gt; Linear Regression Model Specification (regression)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glmnet </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $.model_spec[[4]]</span></span>
<span><span class="co">#&gt; Cubist Model Specification (regression)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: cubist</span></span></code></pre></div>
<p>Now the reason we are here. Let’s take a look at the first function for modeling with <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a>, <strong><code><a href="reference/fast_regression.html">fast_regression()</a></code></strong>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/recipes" class="external-link">recipes</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">rec_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/recipe.html" class="external-link">recipe</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">frt_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fast_regression.html">fast_regression</a></span><span class="op">(</span></span>
<span>  .data <span class="op">=</span> <span class="va">mtcars</span>, </span>
<span>  .rec_obj <span class="op">=</span> <span class="va">rec_obj</span>, </span>
<span>  .parsnip_eng <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lm"</span>,<span class="st">"glm"</span>,<span class="st">"gee"</span><span class="op">)</span>,</span>
<span>  .parsnip_fns <span class="op">=</span> <span class="st">"linear_reg"</span>,</span>
<span>  .drop_na <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">frt_tbl</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 3</span></span>
<span><span class="co">#&gt; Columns: 8</span></span>
<span><span class="co">#&gt; $ .model_id       &lt;int&gt; 1, 2, 3</span></span>
<span><span class="co">#&gt; $ .parsnip_engine &lt;chr&gt; "lm", "gee", "glm"</span></span>
<span><span class="co">#&gt; $ .parsnip_mode   &lt;chr&gt; "regression", "regression", "regression"</span></span>
<span><span class="co">#&gt; $ .parsnip_fns    &lt;chr&gt; "linear_reg", "linear_reg", "linear_reg"</span></span>
<span><span class="co">#&gt; $ model_spec      &lt;list&gt; [~NULL, ~NULL, NULL, regression, TRUE, NULL, lm, TRUE]…</span></span>
<span><span class="co">#&gt; $ wflw            &lt;list&gt; [cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb, mp…</span></span>
<span><span class="co">#&gt; $ fitted_wflw     &lt;list&gt; [cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb, mp…</span></span>
<span><span class="co">#&gt; $ pred_wflw       &lt;list&gt; [&lt;tbl_df[64 x 3]&gt;], &lt;NULL&gt;, [&lt;tbl_df[64 x 3]&gt;]</span></span></code></pre></div>
<p>As we see above, one of the models has gracefully failed, thanks in part to the function <code><a href="https://purrr.tidyverse.org/reference/safely.html" class="external-link">purrr::safely()</a></code>, which was used to make what I call <strong>safe_make</strong> functions.</p>
<p>Let’s look at the fitted workflow predictions.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">frt_tbl</span><span class="op">$</span><span class="va">pred_wflw</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; # A tibble: 64 × 3</span></span>
<span><span class="co">#&gt;    .data_category .data_type .value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 actual         actual       15.2</span></span>
<span><span class="co">#&gt;  2 actual         actual       19.2</span></span>
<span><span class="co">#&gt;  3 actual         actual       22.8</span></span>
<span><span class="co">#&gt;  4 actual         actual       33.9</span></span>
<span><span class="co">#&gt;  5 actual         actual       26  </span></span>
<span><span class="co">#&gt;  6 actual         actual       19.2</span></span>
<span><span class="co">#&gt;  7 actual         actual       15  </span></span>
<span><span class="co">#&gt;  8 actual         actual       27.3</span></span>
<span><span class="co">#&gt;  9 actual         actual       24.4</span></span>
<span><span class="co">#&gt; 10 actual         actual       17.3</span></span>
<span><span class="co">#&gt; # ℹ 54 more rows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; # A tibble: 64 × 3</span></span>
<span><span class="co">#&gt;    .data_category .data_type .value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 actual         actual       15.2</span></span>
<span><span class="co">#&gt;  2 actual         actual       19.2</span></span>
<span><span class="co">#&gt;  3 actual         actual       22.8</span></span>
<span><span class="co">#&gt;  4 actual         actual       33.9</span></span>
<span><span class="co">#&gt;  5 actual         actual       26  </span></span>
<span><span class="co">#&gt;  6 actual         actual       19.2</span></span>
<span><span class="co">#&gt;  7 actual         actual       15  </span></span>
<span><span class="co">#&gt;  8 actual         actual       27.3</span></span>
<span><span class="co">#&gt;  9 actual         actual       24.4</span></span>
<span><span class="co">#&gt; 10 actual         actual       17.3</span></span>
<span><span class="co">#&gt; # ℹ 54 more rows</span></span></code></pre></div>
<p>Now let’s load the <code>multilevelmod</code> library so that we can run the <code>gee</code> linear regression.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/multilevelmod" class="external-link">multilevelmod</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">rec_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/recipe.html" class="external-link">recipe</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">frt_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fast_regression.html">fast_regression</a></span><span class="op">(</span></span>
<span>  .data <span class="op">=</span> <span class="va">mtcars</span>, </span>
<span>  .rec_obj <span class="op">=</span> <span class="va">rec_obj</span>, </span>
<span>  .parsnip_eng <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lm"</span>,<span class="st">"glm"</span>,<span class="st">"gee"</span><span class="op">)</span>,</span>
<span>  .parsnip_fns <span class="op">=</span> <span class="st">"linear_reg"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/extract_wflw_pred.html">extract_wflw_pred</a></span><span class="op">(</span><span class="va">frt_tbl</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 192 × 4</span></span>
<span><span class="co">#&gt;    .model_type     .data_category .data_type .value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 lm - linear_reg actual         actual       32.4</span></span>
<span><span class="co">#&gt;  2 lm - linear_reg actual         actual       14.3</span></span>
<span><span class="co">#&gt;  3 lm - linear_reg actual         actual       15.8</span></span>
<span><span class="co">#&gt;  4 lm - linear_reg actual         actual       30.4</span></span>
<span><span class="co">#&gt;  5 lm - linear_reg actual         actual       24.4</span></span>
<span><span class="co">#&gt;  6 lm - linear_reg actual         actual       15  </span></span>
<span><span class="co">#&gt;  7 lm - linear_reg actual         actual       33.9</span></span>
<span><span class="co">#&gt;  8 lm - linear_reg actual         actual       22.8</span></span>
<span><span class="co">#&gt;  9 lm - linear_reg actual         actual       19.2</span></span>
<span><span class="co">#&gt; 10 lm - linear_reg actual         actual       21.4</span></span>
<span><span class="co">#&gt; # ℹ 182 more rows</span></span></code></pre></div>
<p><em>Getting Regression Residuals</em></p>
<p>Getting residuals is easy with <a href="https://www.spsanderson.com/tidyAML/" class="external-link">tidyAML</a>. Let’s take a look.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/extract_regression_residuals.html">extract_regression_residuals</a></span><span class="op">(</span><span class="va">frt_tbl</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; # A tibble: 32 × 4</span></span>
<span><span class="co">#&gt;    .model_type     .actual .predicted .resid</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;             &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 lm - linear_reg    32.4       27.5  4.94 </span></span>
<span><span class="co">#&gt;  2 lm - linear_reg    14.3       14.2  0.121</span></span>
<span><span class="co">#&gt;  3 lm - linear_reg    15.8       18.5 -2.71 </span></span>
<span><span class="co">#&gt;  4 lm - linear_reg    30.4       30.6 -0.178</span></span>
<span><span class="co">#&gt;  5 lm - linear_reg    24.4       22.6  1.82 </span></span>
<span><span class="co">#&gt;  6 lm - linear_reg    15         13.3  1.69 </span></span>
<span><span class="co">#&gt;  7 lm - linear_reg    33.9       29.3  4.64 </span></span>
<span><span class="co">#&gt;  8 lm - linear_reg    22.8       25.3 -2.53 </span></span>
<span><span class="co">#&gt;  9 lm - linear_reg    19.2       17.6  1.62 </span></span>
<span><span class="co">#&gt; 10 lm - linear_reg    21.4       21.2  0.162</span></span>
<span><span class="co">#&gt; # ℹ 22 more rows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; # A tibble: 32 × 4</span></span>
<span><span class="co">#&gt;    .model_type      .actual .predicted  .resid</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 gee - linear_reg    32.4       27.5  4.95  </span></span>
<span><span class="co">#&gt;  2 gee - linear_reg    14.3       14.2  0.0928</span></span>
<span><span class="co">#&gt;  3 gee - linear_reg    15.8       18.5 -2.67  </span></span>
<span><span class="co">#&gt;  4 gee - linear_reg    30.4       30.5 -0.147 </span></span>
<span><span class="co">#&gt;  5 gee - linear_reg    24.4       22.6  1.83  </span></span>
<span><span class="co">#&gt;  6 gee - linear_reg    15         13.3  1.68  </span></span>
<span><span class="co">#&gt;  7 gee - linear_reg    33.9       29.3  4.65  </span></span>
<span><span class="co">#&gt;  8 gee - linear_reg    22.8       25.3 -2.53  </span></span>
<span><span class="co">#&gt;  9 gee - linear_reg    19.2       17.6  1.60  </span></span>
<span><span class="co">#&gt; 10 gee - linear_reg    21.4       21.2  0.165 </span></span>
<span><span class="co">#&gt; # ℹ 22 more rows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; # A tibble: 32 × 4</span></span>
<span><span class="co">#&gt;    .model_type      .actual .predicted .resid</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 glm - linear_reg    32.4       27.5  4.94 </span></span>
<span><span class="co">#&gt;  2 glm - linear_reg    14.3       14.2  0.121</span></span>
<span><span class="co">#&gt;  3 glm - linear_reg    15.8       18.5 -2.71 </span></span>
<span><span class="co">#&gt;  4 glm - linear_reg    30.4       30.6 -0.178</span></span>
<span><span class="co">#&gt;  5 glm - linear_reg    24.4       22.6  1.82 </span></span>
<span><span class="co">#&gt;  6 glm - linear_reg    15         13.3  1.69 </span></span>
<span><span class="co">#&gt;  7 glm - linear_reg    33.9       29.3  4.64 </span></span>
<span><span class="co">#&gt;  8 glm - linear_reg    22.8       25.3 -2.53 </span></span>
<span><span class="co">#&gt;  9 glm - linear_reg    19.2       17.6  1.62 </span></span>
<span><span class="co">#&gt; 10 glm - linear_reg    21.4       21.2  0.162</span></span>
<span><span class="co">#&gt; # ℹ 22 more rows</span></span></code></pre></div>
<p>You can also pivot them into a long format making plotting easy with <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/extract_regression_residuals.html">extract_regression_residuals</a></span><span class="op">(</span><span class="va">frt_tbl</span>, .pivot_long <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; # A tibble: 96 × 3</span></span>
<span><span class="co">#&gt;    .model_type     name        value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 lm - linear_reg .actual    32.4  </span></span>
<span><span class="co">#&gt;  2 lm - linear_reg .predicted 27.5  </span></span>
<span><span class="co">#&gt;  3 lm - linear_reg .resid      4.94 </span></span>
<span><span class="co">#&gt;  4 lm - linear_reg .actual    14.3  </span></span>
<span><span class="co">#&gt;  5 lm - linear_reg .predicted 14.2  </span></span>
<span><span class="co">#&gt;  6 lm - linear_reg .resid      0.121</span></span>
<span><span class="co">#&gt;  7 lm - linear_reg .actual    15.8  </span></span>
<span><span class="co">#&gt;  8 lm - linear_reg .predicted 18.5  </span></span>
<span><span class="co">#&gt;  9 lm - linear_reg .resid     -2.71 </span></span>
<span><span class="co">#&gt; 10 lm - linear_reg .actual    30.4  </span></span>
<span><span class="co">#&gt; # ℹ 86 more rows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; # A tibble: 96 × 3</span></span>
<span><span class="co">#&gt;    .model_type      name         value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;        &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 gee - linear_reg .actual    32.4   </span></span>
<span><span class="co">#&gt;  2 gee - linear_reg .predicted 27.5   </span></span>
<span><span class="co">#&gt;  3 gee - linear_reg .resid      4.95  </span></span>
<span><span class="co">#&gt;  4 gee - linear_reg .actual    14.3   </span></span>
<span><span class="co">#&gt;  5 gee - linear_reg .predicted 14.2   </span></span>
<span><span class="co">#&gt;  6 gee - linear_reg .resid      0.0928</span></span>
<span><span class="co">#&gt;  7 gee - linear_reg .actual    15.8   </span></span>
<span><span class="co">#&gt;  8 gee - linear_reg .predicted 18.5   </span></span>
<span><span class="co">#&gt;  9 gee - linear_reg .resid     -2.67  </span></span>
<span><span class="co">#&gt; 10 gee - linear_reg .actual    30.4   </span></span>
<span><span class="co">#&gt; # ℹ 86 more rows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; # A tibble: 96 × 3</span></span>
<span><span class="co">#&gt;    .model_type      name        value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 glm - linear_reg .actual    32.4  </span></span>
<span><span class="co">#&gt;  2 glm - linear_reg .predicted 27.5  </span></span>
<span><span class="co">#&gt;  3 glm - linear_reg .resid      4.94 </span></span>
<span><span class="co">#&gt;  4 glm - linear_reg .actual    14.3  </span></span>
<span><span class="co">#&gt;  5 glm - linear_reg .predicted 14.2  </span></span>
<span><span class="co">#&gt;  6 glm - linear_reg .resid      0.121</span></span>
<span><span class="co">#&gt;  7 glm - linear_reg .actual    15.8  </span></span>
<span><span class="co">#&gt;  8 glm - linear_reg .predicted 18.5  </span></span>
<span><span class="co">#&gt;  9 glm - linear_reg .resid     -2.71 </span></span>
<span><span class="co">#&gt; 10 glm - linear_reg .actual    30.4  </span></span>
<span><span class="co">#&gt; # ℹ 86 more rows</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=tidyAML" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/spsanderson/tidyAML/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/spsanderson/tidyAML/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing tidyAML</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Steven Sanderson <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0009-0006-7661-8247" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=tidyAML" class="external-link"><img src="http://www.r-pkg.org/badges/version/tidyAML" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html##experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://makeapullrequest.com" class="external-link"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square" alt="PRs Welcome"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Steven Sanderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
